<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>
<?import javafx.geometry.Insets?>

<VBox xmlns:fx="http://javafx.com/fxml/1"
          xmlns="http://javafx.com/javafx/21"
          fx:controller="co.edu.uptc.viewController.StationsController"
          spacing="16" style="-fx-padding: 16; -fx-background-color: transparent;">

     <!-- Toolbar -->
     <HBox styleClass="toolbar-section" spacing="12" alignment="CENTER_LEFT">
          <Label text="GestiÃ³n de Estaciones" styleClass="label,section-title"/>
          <Region HBox.hgrow="ALWAYS"/>
          <TextField fx:id="searchField" promptText="Buscar estaciÃ³n..." prefWidth="250"/>
          <Button text="Buscar" onAction="#onSearch" styleClass="button,ghost"/>
          <Separator orientation="VERTICAL"/>
          <Button text="Nueva" onAction="#onNewStation" styleClass="button,primary"/>
          <Button text="Eliminar" onAction="#onDeleteStation" styleClass="button,danger"/>
     </HBox>

     <!-- Content Area -->
     <SplitPane orientation="HORIZONTAL" VBox.vgrow="ALWAYS" dividerPositions="0.6">
          
          <!-- Left: Table -->
          <AnchorPane>
               <TableView fx:id="stationsTable" AnchorPane.topAnchor="0" AnchorPane.bottomAnchor="0" 
                         AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0">
                    <columns>
                         <TableColumn fx:id="colId" text="ðŸ†” ID" prefWidth="100"/>
                         <TableColumn fx:id="colName" text="ðŸ“ %col.name" prefWidth="220"/>
                         <TableColumn fx:id="colLat" text="ðŸŒ %col.latitude" prefWidth="130"/>
                         <TableColumn fx:id="colLng" text="ðŸŒ %col.longitude" prefWidth="130"/>
                    </columns>
               </TableView>
          </AnchorPane>

          <!-- Right: Form -->
          <AnchorPane>
               <VBox styleClass="form-container" spacing="20" AnchorPane.topAnchor="0" AnchorPane.leftAnchor="8" 
                    AnchorPane.rightAnchor="8" AnchorPane.bottomAnchor="0">
                    
                    <Label text="Detalles de la EstaciÃ³n" styleClass="label,section-title"/>
                    <Separator/>
                    
                    <GridPane hgap="12" vgap="16">
                         <columnConstraints>
                         <ColumnConstraints minWidth="80" prefWidth="80"/>
                         <ColumnConstraints prefWidth="220" hgrow="ALWAYS"/>
                         </columnConstraints>

                         <Label text="ðŸ†” ID" GridPane.rowIndex="0" GridPane.columnIndex="0" 
                              style="-fx-font-weight: 600;"/>
                         <TextField fx:id="idField" promptText="Ej: EST001" 
                                   GridPane.rowIndex="0" GridPane.columnIndex="1"/>

                         <Label text="ðŸ“ Nombre" GridPane.rowIndex="1" GridPane.columnIndex="0" 
                              style="-fx-font-weight: 600;"/>
                         <TextField fx:id="nameField" promptText="Ej: Portal Norte" 
                                   GridPane.rowIndex="1" GridPane.columnIndex="1"/>

                         <Label text="ðŸŒ Latitud" GridPane.rowIndex="2" GridPane.columnIndex="0" 
                              style="-fx-font-weight: 600;"/>
                         <TextField fx:id="latField" promptText="Ej: 4.7110" 
                                   GridPane.rowIndex="2" GridPane.columnIndex="1"/>

                         <Label text="ðŸŒ Longitud" GridPane.rowIndex="3" GridPane.columnIndex="0" 
                              style="-fx-font-weight: 600;"/>
                         <TextField fx:id="lngField" promptText="Ej: -74.0721" 
                                   GridPane.rowIndex="3" GridPane.columnIndex="1"/>
                    </GridPane>

                    <Separator/>

                    <HBox spacing="12" alignment="CENTER">
                         <Button text="Guardar" onAction="#onSaveStation" styleClass="button,primary" 
                              prefWidth="140"/>
                         <Button text="Cancelar" onAction="#onCancelEdit" styleClass="button,ghost" 
                              prefWidth="140"/>
                    </HBox>

                    <Region VBox.vgrow="ALWAYS"/>

                    <!-- Info Box -->
                    <VBox spacing="8" style="-fx-background-color: rgba(37, 99, 235, 0.05); -fx-padding: 16; -fx-background-radius: 8;">
                         <Label text="InformaciÃ³n" style="-fx-font-weight: 700; -fx-text-fill: -primary;"/>
                         <Label text="â€¢ Selecciona una estaciÃ³n de la tabla para editarla" 
                              wrapText="true" style="-fx-font-size: 12px;"/>
                         <Label text="â€¢ Las coordenadas son opcionales pero recomendadas para el mapa" 
                              wrapText="true" style="-fx-font-size: 12px;"/>
                         <Label text="â€¢ El ID debe ser Ãºnico en el sistema" 
                              wrapText="true" style="-fx-font-size: 12px;"/>
                    </VBox>
               </VBox>
          </AnchorPane>
     </SplitPane>
</VBox>